{"version":3,"sources":["webpack:///./src/views/Mail.vue?b63b","webpack:///src/views/Mail.vue","webpack:///./src/views/Mail.vue?1733","webpack:///./src/views/Mail.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","loadingSettings","scopedSlots","_u","key","fn","_v","isBetaCore","user","on","editSettings","_e","proxy","sendMail","settings","host","message","_s","ref","model","value","callback","$$v","valid","expression","_l","email","i","style","$vuetify","theme","themes","dark","primary","removeEmail","$set","emailRules","addEmail","mail","cols","mailSchema","change","staticStyle","html","settingsSchema","submitSettings","currentSend","staticRenderFns","component","VBtn","VCol","VContainer","VForm","VIcon","VRow","VSpacer","VTextField"],"mappings":"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","file":"js/chunk-2d0b8e51.327d60a8.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{attrs:{\"fluid\":\"\"}},[_c('v-row',{attrs:{\"justify\":\"center\"}},[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"4\"}},[_c('material-card',{staticClass:\"v-card-profile\",attrs:{\"loading\":_vm.loadingSettings,\"color\":\"primary\"},scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('div',{staticClass:\"pa-3\"},[_c('h4',{staticClass:\"title font-weight-light\"},[_vm._v(\"\\n              Mail\\n            \")])]),_c('v-spacer'),(_vm.isBetaCore(_vm.user))?_c('v-btn',{staticClass:\"mr-3\",attrs:{\"color\":\"secondary\"},on:{\"click\":_vm.editSettings}},[_c('v-icon',{staticClass:\"pr-3\"},[_vm._v(\"\\n              mdi-cog\\n            \")]),_vm._v(\"Edit Settings\\n          \")],1):_vm._e()]},proxy:true},{key:\"actions\",fn:function(){return [_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":_vm.sendMail}},[_vm._v(\"\\n            Send Mail\\n          \")])]},proxy:true}])},[(!_vm.loadingSettings && !_vm.settings.host || _vm.message)?_c('material-notification',{staticClass:\"mb-3\",attrs:{\"color\":_vm.message ? 'success' : 'error',\"icon\":\"mdi-information-outline\"}},[_vm._v(\"\\n          \"+_vm._s(_vm.message? _vm.message : 'No mail settings have been set for this site. Contact BetaCore to use mail.')+\"\\n        \")]):_vm._e(),_c('v-form',{ref:\"form\",attrs:{\"lazy-validation\":\"\"},model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_vm._l((_vm.emails),function(email,i){return [_c('v-row',{key:i,staticClass:\"mb-2 mx-0\",style:('border: 1px solid; border-color: ' + _vm.$vuetify.theme.themes.dark.primary),attrs:{\"align\":\"center\"}},[_c('v-col',{attrs:{\"cols\":\"8\"}},[_c('h6',{staticClass:\"overline\"},[_vm._v(\"\\n                  Email \"+_vm._s(i + 1)+\"\\n                \")])]),_c('v-col',{staticClass:\"text-right\",attrs:{\"cols\":\"4\"}},[_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function () { return _vm.removeEmail(i); }}},[_c('v-icon',[_vm._v(\"mdi-delete\")])],1)],1),_c('v-col',{staticClass:\"py-0\",attrs:{\"cols\":\"12\"}},[_c('v-text-field',{attrs:{\"label\":\"Name\"},model:{value:(email.name),callback:function ($$v) {_vm.$set(email, \"name\", $$v)},expression:\"email.name\"}})],1),_c('v-col',{staticClass:\"py-0\",attrs:{\"cols\":\"12\"}},[_c('v-text-field',{attrs:{\"rules\":_vm.emailRules,\"label\":\"Email\"},model:{value:(email.email),callback:function ($$v) {_vm.$set(email, \"email\", $$v)},expression:\"email.email\"}})],1)],1)]}),_c('v-row',{staticClass:\"my-4 mx-0\"},[_c('v-btn',{staticClass:\"mr-3\",attrs:{\"color\":\"primary\",\"block\":\"\"},on:{\"click\":_vm.addEmail}},[_c('v-icon',{staticClass:\"pr-3\"},[_vm._v(\"\\n                mdi-plus\\n              \")]),_vm._v(\"Add Email Address\\n            \")],1)],1),_c('v-form-base',{attrs:{\"model\":_vm.mail,\"col\":{ cols:12 },\"schema\":_vm.mailSchema},on:{\"change\":_vm.change}})],2)],1)],1),(_vm.html)?_c('v-col',{staticClass:\"text-center\",attrs:{\"cols\":\"12\",\"md\":\"8\"}},[_c('iframe',{staticStyle:{\"min-width\":\"560px\"},attrs:{\"scrolling\":\"no\",\"frameBorder\":\"0\",\"height\":\"900\",\"srcdoc\":_vm.html,\"no\":\"\"}})]):_vm._e()],1),_c('form-dialog',{ref:\"dialog\",attrs:{\"title\":'Edit Settings',\"schema\":_vm.settingsSchema,\"item\":_vm.settings},on:{\"submit\":_vm.submitSettings}}),_c('yes-no-dialog',{ref:\"yesno\",on:{\"yes\":_vm.currentSend}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container fluid>\n    <v-row justify=\"center\">\n      <v-col\n        cols=\"12\"\n        md=\"4\"\n      >\n        <material-card\n          :loading=\"loadingSettings\"\n          class=\"v-card-profile\"\n          color=\"primary\"\n        >\n          <template v-slot:header>\n            <div\n              class=\"pa-3\"\n            >\n              <h4\n                class=\"title font-weight-light\"\n              >\n                Mail\n              </h4>\n            </div>\n\n            <v-spacer />\n            <v-btn\n              v-if=\"isBetaCore(user)\"\n              color=\"secondary\"\n              class=\"mr-3\"\n              @click=\"editSettings\"\n            >\n              <v-icon class=\"pr-3\">\n                mdi-cog\n              </v-icon>Edit Settings\n            </v-btn>\n          </template>\n          <material-notification\n            v-if=\"!loadingSettings && !settings.host || message\"\n            class=\"mb-3\"\n            :color=\"message ? 'success' : 'error'\"\n            icon=\"mdi-information-outline\"\n          >\n            {{ message? message : 'No mail settings have been set for this site. Contact BetaCore to use mail.' }}\n          </material-notification>\n          <v-form\n            ref=\"form\"\n            v-model=\"valid\"\n            lazy-validation\n          >\n            <template v-for=\"(email ,i ) in emails\">\n              <v-row\n                :key=\"i\"\n                align=\"center\"\n                class=\"mb-2 mx-0\"\n                :style=\"'border: 1px solid; border-color: ' + $vuetify.theme.themes.dark.primary\"\n              >\n                <v-col cols=\"8\">\n                  <h6 class=\"overline\">\n                    Email {{ i + 1 }}\n                  </h6>\n                </v-col>\n                <v-col\n                  cols=\"4\"\n                  class=\"text-right\"\n                >\n                  <v-btn\n                    icon\n                    @click=\"() => removeEmail(i)\"\n                  >\n                    <v-icon>mdi-delete</v-icon>\n                  </v-btn>\n                </v-col>\n                <v-col\n                  class=\"py-0\"\n                  cols=\"12\"\n                >\n                  <v-text-field\n                    v-model=\"email.name\"\n                    label=\"Name\"\n                  />\n                </v-col>\n                <v-col\n                  class=\"py-0\"\n                  cols=\"12\"\n                >\n                  <v-text-field\n                    v-model=\"email.email\"\n                    :rules=\"emailRules\"\n                    label=\"Email\"\n                  />\n                </v-col>\n              </v-row>\n            </template>\n            <v-row class=\"my-4 mx-0\">\n              <v-btn\n                color=\"primary\"\n                class=\"mr-3\"\n                block\n                @click=\"addEmail\"\n              >\n                <v-icon class=\"pr-3\">\n                  mdi-plus\n                </v-icon>Add Email Address\n              </v-btn>\n            </v-row>\n            <v-form-base\n              :model=\"mail\"\n              :col=\"{ cols:12 }\"\n              :schema=\"mailSchema\"\n              @change=\"change\"\n            />\n          </v-form>\n          <template v-slot:actions>\n            <v-spacer />\n            <v-btn\n              color=\"primary\"\n              @click=\"sendMail\"\n            >\n              Send Mail\n            </v-btn>\n          </template>\n        </material-card>\n      </v-col>\n      <v-col\n        v-if=\"html\"\n        class=\"text-center\"\n        cols=\"12\"\n        md=\"8\"\n      >\n        <iframe\n          scrolling=\"no\"\n          frameBorder=\"0\"\n          style=\"min-width: 560px;\"\n          height=\"900\"\n          :srcdoc=\"html\"\n          no\n        />\n      </v-col>\n    </v-row>\n    <form-dialog\n      ref=\"dialog\"\n      :title=\"'Edit Settings'\"\n      :schema=\"settingsSchema\"\n      :item=\"settings\"\n      @submit=\"submitSettings\"\n    />\n    <yes-no-dialog\n      ref=\"yesno\"\n      @yes=\"currentSend\"\n    />\n  </v-container>\n</template>\n\n<script>\n  import moment from 'moment'\n  import FormDialog from '../components/core/FormDialog.vue'\n  import VFormBase from 'vuetify-form-base'\n  import YesNoDialog from '../components/core/YesNoDialog.vue'\n  export default {\n    components: {\n      FormDialog,\n      VFormBase,\n      YesNoDialog\n    },\n    data () {\n      return {\n        valid: true,\n        settings: {},\n        dialog: false,\n        loadingSettings: false,\n        sendingMail: false,\n        mail: {},\n        emails: [{}],\n        html: null,\n        message: null,\n        currentSend: () => {},\n        emailRules: [\n          v => !!v || 'Email is required',\n          v => /.+@.+/.test(v) || 'E-mail must be valid',\n        ],\n        mailSchema: {\n          subject: {\n            type: 'text',\n            label: 'Subject'\n          },\n          greeting: {\n            type: 'text',\n            label: 'Greeting'\n          },\n          text: {\n            type: 'text',\n            label: 'Text',\n          },\n          button_text: {\n            type: 'text',\n            label: 'Button Text'\n          },\n          button_url: {\n            type: 'text',\n            label: 'Button URL'\n          },\n          bye: {\n            type: 'text',\n            label: 'Bye'\n          },\n          person: {\n            type: 'text',\n            label: 'Person'\n          }\n        },\n        settingsSchema: {\n          host: {\n            type: 'text',\n            label: 'Host'\n          },\n          port: {\n            type: 'number',\n            label: 'Port'\n          },\n          email: {\n            type: 'email',\n            label: 'Email'\n          },\n          password: {\n            type: 'password',\n            appendIcon: 'mdi-eye',\n            label: 'Password'\n          },\n          fromEmail: {\n            type: 'email',\n            label: 'From Email'\n          },\n          fromName: {\n            type: 'text',\n            label: 'From Name'\n          },\n          html: {\n            type: 'text',\n            label: 'HTML'\n          }\n        },\n      }\n    },\n    computed: {\n      site: function () {\n        return this.$store.state.site\n      },\n      user: function () {\n        return this.$store.state.user\n      }\n    },\n    mounted () {\n      this.mail = {\n        person: this.user.name,\n        greeting: 'Dear {{name}}',\n        text: 'This is the text of an email that will be send to {{email}} on {{date}}.',\n        bye: 'Best regards'\n      }\n      this.getSettings()\n    },\n    methods: {\n      moment,\n      addEmail () {\n        this.emails.push({\n        })\n      },\n      removeEmail (i) {\n        this.emails.splice(i, 1)\n      },\n      editSettings () {\n        this.$refs.dialog.open()\n      },\n      getSettings () {\n        if (this.site) {\n          this.loadingSettings = true\n          this.api.get('mail/settings/' + this.site)\n            .then(result => {\n              var settings = result.data\n              if (settings) {\n                this.settings = settings\n                this.setHTML()\n              }\n              this.loadingSettings = false\n            }, error => {\n              this.loadingSettings = false\n              this.error = error\n            })\n        }\n      },\n      change () {\n        this.setHTML()\n      },\n      setHTML () {\n        if (this.settings.html) {\n          var html = this.settings.html\n          html = html.replaceAll('{{data}}', '')\n\n          if (this.mail.button_text != null) {\n            html = html.replaceAll('{{button}}', '<a href=\"' + this.mail.button_url + '\" id=\"ctl00_lnkArticle\" target=\"IEXAds\" class=\"articlebutton\">' + this.mail.button_text + '</a><br /><br />')\n          } else {\n            html = html.replaceAll('{{button}}', '')\n          }\n          html = html.replaceAll('{{text}}', this.mail.text)\n          html = html.replaceAll('{{greeting}}', this.mail.greeting)\n          html = html.replaceAll('{{bye}}', this.mail.bye)\n          html = html.replaceAll('{{person}}', this.mail.person)\n          html = html.replaceAll('{{title}}', this.mail.subject)\n          html = html.replaceAll('{{date}}', this.moment().format('LL'))\n\n          if (this.emails.length > 0) {\n            var firstEmail = this.emails[0]\n            html = html.replaceAll('{{name}}', firstEmail.name)\n            html = html.replaceAll('{{email}}', firstEmail.email)\n          }\n\n          this.html = html\n        }\n      },\n      submitSettings (submit) {\n        var settings = submit.item\n        settings.siteId = this.site\n        if (this.settings) {\n          this.api.post('mail/settings', settings)\n            .then(result => {\n              this.settings = settings\n              submit.done()\n            }, error => {\n              this.error = error\n              submit.done()\n            })\n        }\n      },\n      sendMail () {\n        if (this.$refs.form.validate()) {\n          this.currentSend = (done) => this.send(done)\n          this.$refs.yesno.open(`Send mail: ${this.mail.subject}`, `Are you sure you want to send this mail to ${this.emails.length} recipients?`)\n        }\n      },\n      send (done) {\n        var request = {\n          emails: this.emails,\n          mailBody: this.mail\n        }\n        this.api.post('mail/send/' + this.site, request)\n          .then(result => {\n            this.message = result.data\n            done()\n          }, error => {\n            this.error = error\n            done()\n          })\n      }\n    }\n  }\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Mail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Mail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Mail.vue?vue&type=template&id=532f5c54&\"\nimport script from \"./Mail.vue?vue&type=script&lang=js&\"\nexport * from \"./Mail.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCol,VContainer,VForm,VIcon,VRow,VSpacer,VTextField})\n"],"sourceRoot":""}