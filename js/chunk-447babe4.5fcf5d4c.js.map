{"version":3,"sources":["webpack:///./src/components/core/YesNoDialog.vue?b56e","webpack:///src/components/core/YesNoDialog.vue","webpack:///./src/components/core/YesNoDialog.vue?c2ed","webpack:///./src/components/core/YesNoDialog.vue","webpack:///./src/views/Mail.vue?548d","webpack:///src/views/Mail.vue","webpack:///./src/views/Mail.vue?1733","webpack:///./src/views/Mail.vue","webpack:///./node_modules/vuetify/lib/components/VGrid/grid.js","webpack:///./node_modules/vuetify/lib/components/VGrid/VContainer.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","model","value","callback","$$v","dialog","expression","title","scopedSlots","_u","key","fn","loading","on","yes","_v","$event","proxy","_s","text","staticRenderFns","component","VBtn","VDialog","VSpacer","staticClass","loadingSettings","isBetaCore","user","editSettings","_e","sendMail","settings","host","message","ref","valid","_l","email","i","style","$vuetify","theme","themes","dark","primary","removeEmail","$set","emailRules","addEmail","mail","cols","mailSchema","change","staticStyle","html","settingsSchema","submitSettings","currentSend","VCol","VContainer","VForm","VIcon","VRow","VTextField","name","extend","functional","props","id","String","tag","type","default","h","data","children","trim","classes","Object","keys","filter","startsWith","length","join","domProps","fluid","Boolean","mergeData","class","Array","concat"],"mappings":"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","file":"js/chunk-447babe4.5fcf5d4c.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"width\":\"500\"},model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('material-card',{attrs:{\"title\":_vm.title},scopedSlots:_vm._u([{key:\"actions\",fn:function(){return [_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"primary\",\"loading\":_vm.loading},on:{\"click\":_vm.yes}},[_vm._v(\"\\n        Yes\\n      \")]),_c('v-btn',{attrs:{\"color\":\"primary\",\"text\":\"\"},on:{\"click\":function($event){_vm.dialog = false}}},[_vm._v(\"\\n        No\\n      \")])]},proxy:true}])},[_vm._v(\"\\n    \"+_vm._s(_vm.text)+\"\\n    \")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-dialog\n    v-model=\"dialog\"\n    width=\"500\"\n  >\n    <material-card :title=\"title\">\n      {{ text }}\n      <template v-slot:actions>\n        <v-spacer />\n        <v-btn\n          color=\"primary\"\n          :loading=\"loading\"\n          @click=\"yes\"\n        >\n          Yes\n        </v-btn>\n        <v-btn\n          color=\"primary\"\n          text\n          @click=\"dialog = false\"\n        >\n          No\n        </v-btn>\n      </template>\n    </material-card>\n  </v-dialog>\n</template>\n\n<script>\n  export default {\n    data () {\n      return {\n        dialog: false,\n        loading: false,\n        title: null,\n        text: null\n      }\n    },\n    methods: {\n      open (title, text, onYes) {\n        this.title = title\n        this.text = text\n        this.dialog = true\n      },\n      yes () {\n        this.loading = true\n        this.$emit('yes', () => {\n          this.loading = false\n          this.dialog = false\n        })\n      }\n    }\n  }\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./YesNoDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./YesNoDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./YesNoDialog.vue?vue&type=template&id=de722a7e&\"\nimport script from \"./YesNoDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./YesNoDialog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VBtn,VDialog,VSpacer})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{attrs:{\"fluid\":\"\"}},[_c('v-row',{attrs:{\"justify\":\"center\"}},[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"4\"}},[_c('material-card',{staticClass:\"v-card-profile\",attrs:{\"loading\":_vm.loadingSettings,\"color\":\"primary\"},scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('div',{staticClass:\"pa-3\"},[_c('h4',{staticClass:\"title font-weight-light\"},[_vm._v(\"\\n              Mail\\n            \")])]),_c('v-spacer'),(_vm.isBetaCore(_vm.user))?_c('v-btn',{staticClass:\"mr-3\",attrs:{\"color\":\"secondary\"},on:{\"click\":_vm.editSettings}},[_c('v-icon',{staticClass:\"pr-3\"},[_vm._v(\"\\n              mdi-cog\\n            \")]),_vm._v(\"Edit Settings\\n          \")],1):_vm._e()]},proxy:true},{key:\"actions\",fn:function(){return [_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":_vm.sendMail}},[_vm._v(\"\\n            Send Mail\\n          \")])]},proxy:true}])},[(!_vm.loadingSettings && !_vm.settings.host || _vm.message)?_c('material-notification',{staticClass:\"mb-3\",attrs:{\"color\":_vm.message ? 'success' : 'error',\"icon\":\"mdi-information-outline\"}},[_vm._v(\"\\n          \"+_vm._s(_vm.message? _vm.message : 'No mail settings have been set for this site. Contact BetaCore to use mail.')+\"\\n        \")]):_vm._e(),_c('v-form',{ref:\"form\",attrs:{\"lazy-validation\":\"\"},model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_vm._l((_vm.emails),function(email,i){return [_c('v-row',{key:i,staticClass:\"mb-2 mx-0\",style:('border: 1px solid; border-color: ' + _vm.$vuetify.theme.themes.dark.primary),attrs:{\"align\":\"center\"}},[_c('v-col',{attrs:{\"cols\":\"8\"}},[_c('h6',{staticClass:\"overline\"},[_vm._v(\"\\n                  Email \"+_vm._s(i + 1)+\"\\n                \")])]),_c('v-col',{staticClass:\"text-right\",attrs:{\"cols\":\"4\"}},[_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function () { return _vm.removeEmail(i); }}},[_c('v-icon',[_vm._v(\"mdi-delete\")])],1)],1),_c('v-col',{staticClass:\"py-0\",attrs:{\"cols\":\"12\"}},[_c('v-text-field',{attrs:{\"label\":\"Name\"},model:{value:(email.name),callback:function ($$v) {_vm.$set(email, \"name\", $$v)},expression:\"email.name\"}})],1),_c('v-col',{staticClass:\"py-0\",attrs:{\"cols\":\"12\"}},[_c('v-text-field',{attrs:{\"rules\":_vm.emailRules,\"label\":\"Email\"},model:{value:(email.email),callback:function ($$v) {_vm.$set(email, \"email\", $$v)},expression:\"email.email\"}})],1)],1)]}),_c('v-row',{staticClass:\"my-4 mx-0\"},[_c('v-btn',{staticClass:\"mr-3\",attrs:{\"color\":\"primary\",\"block\":\"\"},on:{\"click\":_vm.addEmail}},[_c('v-icon',{staticClass:\"pr-3\"},[_vm._v(\"\\n                mdi-plus\\n              \")]),_vm._v(\"Add Email Address\\n            \")],1)],1),_c('v-form-base',{attrs:{\"model\":_vm.mail,\"col\":{ cols:12 },\"schema\":_vm.mailSchema},on:{\"change\":_vm.change}})],2)],1)],1),(_vm.html)?_c('v-col',{staticClass:\"text-center\",attrs:{\"cols\":\"12\",\"md\":\"8\"}},[_c('iframe',{staticStyle:{\"min-width\":\"560px\"},attrs:{\"scrolling\":\"no\",\"frameBorder\":\"0\",\"height\":\"900\",\"srcdoc\":_vm.html,\"no\":\"\"}})]):_vm._e()],1),_c('form-dialog',{ref:\"dialog\",attrs:{\"title\":'Edit Settings',\"schema\":_vm.settingsSchema,\"item\":_vm.settings},on:{\"submit\":_vm.submitSettings}}),_c('yes-no-dialog',{ref:\"yesno\",on:{\"yes\":_vm.currentSend}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container fluid>\n    <v-row justify=\"center\">\n      <v-col\n        cols=\"12\"\n        md=\"4\"\n      >\n        <material-card\n          :loading=\"loadingSettings\"\n          class=\"v-card-profile\"\n          color=\"primary\"\n        >\n          <template v-slot:header>\n            <div\n              class=\"pa-3\"\n            >\n              <h4\n                class=\"title font-weight-light\"\n              >\n                Mail\n              </h4>\n            </div>\n\n            <v-spacer />\n            <v-btn\n              v-if=\"isBetaCore(user)\"\n              color=\"secondary\"\n              class=\"mr-3\"\n              @click=\"editSettings\"\n            >\n              <v-icon class=\"pr-3\">\n                mdi-cog\n              </v-icon>Edit Settings\n            </v-btn>\n          </template>\n          <material-notification\n            v-if=\"!loadingSettings && !settings.host || message\"\n            class=\"mb-3\"\n            :color=\"message ? 'success' : 'error'\"\n            icon=\"mdi-information-outline\"\n          >\n            {{ message? message : 'No mail settings have been set for this site. Contact BetaCore to use mail.' }}\n          </material-notification>\n          <v-form\n            ref=\"form\"\n            v-model=\"valid\"\n            lazy-validation\n          >\n            <template v-for=\"(email ,i ) in emails\">\n              <v-row\n                :key=\"i\"\n                align=\"center\"\n                class=\"mb-2 mx-0\"\n                :style=\"'border: 1px solid; border-color: ' + $vuetify.theme.themes.dark.primary\"\n              >\n                <v-col cols=\"8\">\n                  <h6 class=\"overline\">\n                    Email {{ i + 1 }}\n                  </h6>\n                </v-col>\n                <v-col\n                  cols=\"4\"\n                  class=\"text-right\"\n                >\n                  <v-btn\n                    icon\n                    @click=\"() => removeEmail(i)\"\n                  >\n                    <v-icon>mdi-delete</v-icon>\n                  </v-btn>\n                </v-col>\n                <v-col\n                  class=\"py-0\"\n                  cols=\"12\"\n                >\n                  <v-text-field\n                    v-model=\"email.name\"\n                    label=\"Name\"\n                  />\n                </v-col>\n                <v-col\n                  class=\"py-0\"\n                  cols=\"12\"\n                >\n                  <v-text-field\n                    v-model=\"email.email\"\n                    :rules=\"emailRules\"\n                    label=\"Email\"\n                  />\n                </v-col>\n              </v-row>\n            </template>\n            <v-row class=\"my-4 mx-0\">\n              <v-btn\n                color=\"primary\"\n                class=\"mr-3\"\n                block\n                @click=\"addEmail\"\n              >\n                <v-icon class=\"pr-3\">\n                  mdi-plus\n                </v-icon>Add Email Address\n              </v-btn>\n            </v-row>\n            <v-form-base\n              :model=\"mail\"\n              :col=\"{ cols:12 }\"\n              :schema=\"mailSchema\"\n              @change=\"change\"\n            />\n          </v-form>\n          <template v-slot:actions>\n            <v-spacer />\n            <v-btn\n              color=\"primary\"\n              @click=\"sendMail\"\n            >\n              Send Mail\n            </v-btn>\n          </template>\n        </material-card>\n      </v-col>\n      <v-col\n        v-if=\"html\"\n        class=\"text-center\"\n        cols=\"12\"\n        md=\"8\"\n      >\n        <iframe\n          scrolling=\"no\"\n          frameBorder=\"0\"\n          style=\"min-width: 560px;\"\n          height=\"900\"\n          :srcdoc=\"html\"\n          no\n        />\n      </v-col>\n    </v-row>\n    <form-dialog\n      ref=\"dialog\"\n      :title=\"'Edit Settings'\"\n      :schema=\"settingsSchema\"\n      :item=\"settings\"\n      @submit=\"submitSettings\"\n    />\n    <yes-no-dialog\n      ref=\"yesno\"\n      @yes=\"currentSend\"\n    />\n  </v-container>\n</template>\n\n<script>\n  import moment from 'moment'\n  import FormDialog from '../components/core/FormDialog.vue'\n  import VFormBase from 'vuetify-form-base'\n  import YesNoDialog from '../components/core/YesNoDialog.vue'\n  export default {\n    components: {\n      FormDialog,\n      VFormBase,\n      YesNoDialog\n    },\n    data () {\n      return {\n        valid: true,\n        settings: {},\n        dialog: false,\n        loadingSettings: false,\n        sendingMail: false,\n        mail: {},\n        emails: [{}],\n        html: null,\n        message: null,\n        currentSend: () => {},\n        emailRules: [\n          v => !!v || 'Email is required',\n          v => /.+@.+/.test(v) || 'E-mail must be valid',\n        ],\n        mailSchema: {\n          subject: {\n            type: 'text',\n            label: 'Subject'\n          },\n          greeting: {\n            type: 'text',\n            label: 'Greeting'\n          },\n          text: {\n            type: 'text',\n            label: 'Text',\n          },\n          button_text: {\n            type: 'text',\n            label: 'Button Text'\n          },\n          button_url: {\n            type: 'text',\n            label: 'Button URL'\n          },\n          bye: {\n            type: 'text',\n            label: 'Bye'\n          },\n          person: {\n            type: 'text',\n            label: 'Person'\n          }\n        },\n        settingsSchema: {\n          host: {\n            type: 'text',\n            label: 'Host'\n          },\n          port: {\n            type: 'number',\n            label: 'Port'\n          },\n          email: {\n            type: 'email',\n            label: 'Email'\n          },\n          password: {\n            type: 'password',\n            appendIcon: 'mdi-eye',\n            label: 'Password'\n          },\n          fromEmail: {\n            type: 'email',\n            label: 'From Email'\n          },\n          fromName: {\n            type: 'text',\n            label: 'From Name'\n          },\n          html: {\n            type: 'text',\n            label: 'HTML'\n          }\n        },\n      }\n    },\n    computed: {\n      site: function () {\n        return this.$store.state.site\n      },\n      user: function () {\n        return this.$store.state.user\n      }\n    },\n    mounted () {\n      this.mail = {\n        person: this.user.name,\n        greeting: 'Dear {{name}}',\n        text: 'This is the text of an email that will be send to {{email}} on {{date}}.',\n        bye: 'Best regards'\n      }\n      this.getSettings()\n    },\n    methods: {\n      moment,\n      addEmail () {\n        this.emails.push({\n        })\n      },\n      removeEmail (i) {\n        this.emails.splice(i, 1)\n      },\n      editSettings () {\n        this.$refs.dialog.open()\n      },\n      getSettings () {\n        if (this.site) {\n          this.loadingSettings = true\n          this.api.get('mail/settings/' + this.site)\n            .then(result => {\n              var settings = result.data\n              if (settings) {\n                this.settings = settings\n                this.setHTML()\n              }\n              this.loadingSettings = false\n            }, error => {\n              this.loadingSettings = false\n              this.error = error\n            })\n        }\n      },\n      change () {\n        this.setHTML()\n      },\n      setHTML () {\n        if (this.settings.html) {\n          var html = this.settings.html\n          html = html.replaceAll('{{data}}', '')\n\n          if (this.mail.button_text != null) {\n            html = html.replaceAll('{{button}}', '<a href=\"' + this.mail.button_url + '\" id=\"ctl00_lnkArticle\" target=\"IEXAds\" class=\"articlebutton\">' + this.mail.button_text + '</a><br /><br />')\n          } else {\n            html = html.replaceAll('{{button}}', '')\n          }\n          html = html.replaceAll('{{text}}', this.mail.text)\n          html = html.replaceAll('{{greeting}}', this.mail.greeting)\n          html = html.replaceAll('{{bye}}', this.mail.bye)\n          html = html.replaceAll('{{person}}', this.mail.person)\n          html = html.replaceAll('{{title}}', this.mail.subject)\n          html = html.replaceAll('{{date}}', this.moment().format('LL'))\n\n          if (this.emails.length > 0) {\n            var firstEmail = this.emails[0]\n            html = html.replaceAll('{{name}}', firstEmail.name)\n            html = html.replaceAll('{{email}}', firstEmail.email)\n          }\n\n          this.html = html\n        }\n      },\n      submitSettings (submit) {\n        var settings = submit.item\n        settings.siteId = this.site\n        if (this.settings) {\n          this.api.post('mail/settings', settings)\n            .then(result => {\n              this.settings = settings\n              submit.done()\n            }, error => {\n              this.error = error\n              submit.done()\n            })\n        }\n      },\n      sendMail () {\n        if (this.$refs.form.validate()) {\n          this.currentSend = (done) => this.send(done)\n          this.$refs.yesno.open(`Send mail: ${this.mail.subject}`, `Are you sure you want to send this mail to ${this.emails.length} recipients?`)\n        }\n      },\n      send (done) {\n        var request = {\n          emails: this.emails,\n          mailBody: this.mail\n        }\n        this.api.post('mail/send/' + this.site, request)\n          .then(result => {\n            this.message = result.data\n            done()\n          }, error => {\n            this.error = error\n            done()\n          })\n      }\n    }\n  }\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Mail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Mail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Mail.vue?vue&type=template&id=532f5c54&\"\nimport script from \"./Mail.vue?vue&type=script&lang=js&\"\nexport * from \"./Mail.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCol,VContainer,VForm,VIcon,VRow,VSpacer,VTextField})\n","// Types\nimport Vue from 'vue';\nexport default function VGrid(name) {\n  /* @vue/component */\n  return Vue.extend({\n    name: `v-${name}`,\n    functional: true,\n    props: {\n      id: String,\n      tag: {\n        type: String,\n        default: 'div'\n      }\n    },\n\n    render(h, {\n      props,\n      data,\n      children\n    }) {\n      data.staticClass = `${name} ${data.staticClass || ''}`.trim();\n      const {\n        attrs\n      } = data;\n\n      if (attrs) {\n        // reset attrs to extract utility clases like pa-3\n        data.attrs = {};\n        const classes = Object.keys(attrs).filter(key => {\n          // TODO: Remove once resolved\n          // https://github.com/vuejs/vue/issues/7841\n          if (key === 'slot') return false;\n          const value = attrs[key]; // add back data attributes like data-test=\"foo\" but do not\n          // add them as classes\n\n          if (key.startsWith('data-')) {\n            data.attrs[key] = value;\n            return false;\n          }\n\n          return value || typeof value === 'string';\n        });\n        if (classes.length) data.staticClass += ` ${classes.join(' ')}`;\n      }\n\n      if (props.id) {\n        data.domProps = data.domProps || {};\n        data.domProps.id = props.id;\n      }\n\n      return h(props.tag, data, children);\n    }\n\n  });\n}\n//# sourceMappingURL=grid.js.map","import \"../../../src/components/VGrid/_grid.sass\";\nimport \"../../../src/components/VGrid/VGrid.sass\";\nimport Grid from './grid';\nimport mergeData from '../../util/mergeData';\n/* @vue/component */\n\nexport default Grid('container').extend({\n  name: 'v-container',\n  functional: true,\n  props: {\n    id: String,\n    tag: {\n      type: String,\n      default: 'div'\n    },\n    fluid: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  render(h, {\n    props,\n    data,\n    children\n  }) {\n    let classes;\n    const {\n      attrs\n    } = data;\n\n    if (attrs) {\n      // reset attrs to extract utility clases like pa-3\n      data.attrs = {};\n      classes = Object.keys(attrs).filter(key => {\n        // TODO: Remove once resolved\n        // https://github.com/vuejs/vue/issues/7841\n        if (key === 'slot') return false;\n        const value = attrs[key]; // add back data attributes like data-test=\"foo\" but do not\n        // add them as classes\n\n        if (key.startsWith('data-')) {\n          data.attrs[key] = value;\n          return false;\n        }\n\n        return value || typeof value === 'string';\n      });\n    }\n\n    if (props.id) {\n      data.domProps = data.domProps || {};\n      data.domProps.id = props.id;\n    }\n\n    return h(props.tag, mergeData(data, {\n      staticClass: 'container',\n      class: Array({\n        'container--fluid': props.fluid\n      }).concat(classes || [])\n    }), children);\n  }\n\n});\n//# sourceMappingURL=VContainer.js.map"],"sourceRoot":""}