(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-488d8900"],{"4bd4":function(t,e,r){"use strict";var s=r("58df"),a=r("7e2b"),i=r("3206");e["a"]=Object(s["a"])(a["a"],Object(i["b"])("form")).extend({name:"v-form",provide(){return{form:this}},inheritAttrs:!1,props:{disabled:Boolean,lazyValidation:Boolean,readonly:Boolean,value:Boolean},data:()=>({inputs:[],watchers:[],errorBag:{}}),watch:{errorBag:{handler(t){const e=Object.values(t).includes(!0);this.$emit("input",!e)},deep:!0,immediate:!0}},methods:{watchInput(t){const e=t=>t.$watch("hasError",e=>{this.$set(this.errorBag,t._uid,e)},{immediate:!0}),r={_uid:t._uid,valid:()=>{},shouldValidate:()=>{}};return this.lazyValidation?r.shouldValidate=t.$watch("shouldValidate",s=>{s&&(this.errorBag.hasOwnProperty(t._uid)||(r.valid=e(t)))}):r.valid=e(t),r},validate(){return 0===this.inputs.filter(t=>!t.validate(!0)).length},reset(){this.inputs.forEach(t=>t.reset()),this.resetErrorBag()},resetErrorBag(){this.lazyValidation&&setTimeout(()=>{this.errorBag={}},0)},resetValidation(){this.inputs.forEach(t=>t.resetValidation()),this.resetErrorBag()},register(t){this.inputs.push(t),this.watchers.push(this.watchInput(t))},unregister(t){const e=this.inputs.find(e=>e._uid===t._uid);if(!e)return;const r=this.watchers.find(t=>t._uid===e._uid);r&&(r.valid(),r.shouldValidate()),this.watchers=this.watchers.filter(t=>t._uid!==e._uid),this.inputs=this.inputs.filter(t=>t._uid!==e._uid),this.$delete(this.errorBag,e._uid)}},render(t){return t("form",{staticClass:"v-form",attrs:{novalidate:!0,...this.attrs$},on:{submit:t=>this.$emit("submit",t)}},this.$slots.default)}})},a523:function(t,e,r){"use strict";r("20f6"),r("4b85");var s=r("2b0e");function a(t){return s["default"].extend({name:"v-"+t,functional:!0,props:{id:String,tag:{type:String,default:"div"}},render(e,{props:r,data:s,children:a}){s.staticClass=`${t} ${s.staticClass||""}`.trim();const{attrs:i}=s;if(i){s.attrs={};const t=Object.keys(i).filter(t=>{if("slot"===t)return!1;const e=i[t];return t.startsWith("data-")?(s.attrs[t]=e,!1):e||"string"===typeof e});t.length&&(s.staticClass+=" "+t.join(" "))}return r.id&&(s.domProps=s.domProps||{},s.domProps.id=r.id),e(r.tag,s,a)}})}var i=r("d9f7");e["a"]=a("container").extend({name:"v-container",functional:!0,props:{id:String,tag:{type:String,default:"div"},fluid:{type:Boolean,default:!1}},render(t,{props:e,data:r,children:s}){let a;const{attrs:n}=r;return n&&(r.attrs={},a=Object.keys(n).filter(t=>{if("slot"===t)return!1;const e=n[t];return t.startsWith("data-")?(r.attrs[t]=e,!1):e||"string"===typeof e})),e.id&&(r.domProps=r.domProps||{},r.domProps.id=e.id),t(e.tag,Object(i["a"])(r,{staticClass:"container",class:Array({"container--fluid":e.fluid}).concat(a||[])}),s)}})},c5f5:function(t,e,r){"use strict";var s=r("8336"),a=r("132d"),i=r("8860"),n=r("da13"),o=r("1800"),l=r("5d23"),c=(r("7f7f"),function(){var t=this,e=t._self._c;return e(i["a"],[t._l(t.items,(function(r,i){return[e(n["a"],t._g({key:i},t.$listeners.select?{click:function(){return t.$emit("select",r)}}:{}),[e("avatar",{attrs:{image:r.image,name:r.image?"":r.name,list:""}}),e(l["a"],[e(l["c"],[t._v("\n          "+t._s(r.name)+"\n        ")]),r.sub1||r.sub2?e(l["b"],[t._v("\n          "+t._s(r.sub1)),e("br"),t._v(t._s(r.sub2)+"\n        ")]):t._e()],1),t.$listeners.edit?e(o["a"],[e(s["a"],{attrs:{icon:""},on:{click:function(e){e.stopPropagation(),t.$emit("edit",r)}}},[e(a["a"],[t._v("mdi-pencil")])],1)],1):t._e(),t.$listeners.delete?e(o["a"],[e(s["a"],{attrs:{icon:""},on:{click:function(e){e.stopPropagation(),t.$emit("delete",r)}}},[e(a["a"],[t._v("mdi-delete")])],1)],1):t._e()],1)]}))],2)}),u=[],d={props:{items:{type:Array,default:function(){return[]}}}},p=d,f=r("2877"),m=Object(f["a"])(p,c,u,!1,null,null,null);e["a"]=m.exports},c66d:function(t,e,r){"use strict";r.r(e);var s=r("62ad"),a=r("a523"),i=r("490a"),n=r("0fd9"),o=r("2fa4"),l=(r("7f7f"),function(){var t=this,e=t._self._c;return e(a["a"],{attrs:{fluid:""}},[e(n["a"],{attrs:{justify:"center"}},[e(s["a"],{attrs:{cols:"12",md:"8"}},[e("profile",{attrs:{profile:t.$store.state.user,"on-update":t.onUpdate}})],1),e(s["a"],{attrs:{cols:"12",md:"4"}},[e("material-card",{staticClass:"v-card-profile",attrs:{loading:t.loadingUsers,color:"primary"},scopedSlots:t._u([{key:"header",fn:function(){return[e("div",{staticClass:"pa-3"},[e("h4",{staticClass:"title font-weight-light"},[t._v("\n              "+t._s(t.company?t.company.name:"")+"\n            ")])]),e(o["a"])]},proxy:!0}])},[t.loadingUsers?e(i["a"],{attrs:{size:50,color:"primary",indeterminate:""}}):e("profile-list",{attrs:{items:t.users},on:{select:t.onUserSelect}})],1)],1)],1)],1)}),c=[],u=(r("8e6e"),r("456d"),r("ac6a"),r("bd86")),d=r("8336"),p=r("4bd4"),f=r("b974"),m=r("8654"),h=function(){var t=this,e=t._self._c;return e("material-card",{attrs:{color:"secondary",title:"Profile"},scopedSlots:t._u([{key:"actions",fn:function(){return[e(d["a"],{attrs:{color:"primary",loading:t.loading},on:{click:t.submit}},[t._v("\n      Update Profile\n    ")])]},proxy:!0}])},[e(p["a"],{ref:"form"},[e(a["a"],{staticClass:"py-0"},[e(n["a"],[e(s["a"],{attrs:{cols:"12",md:"6"}},[e(m["a"],{attrs:{label:"Name"},model:{value:t.user.name,callback:function(e){t.$set(t.user,"name",e)},expression:"user.name"}})],1),e(s["a"],{attrs:{cols:"12",md:"6"}},[e(m["a"],{staticClass:"purple-input",attrs:{rules:t.emailRules,"prepend-icon":"mdi-email",label:"Email address"},model:{value:t.user.email,callback:function(e){t.$set(t.user,"email",e)},expression:"user.email"}})],1),e(s["a"],{attrs:{cols:"12",md:"6"}},[e(m["a"],{attrs:{"append-icon":t.show?"mdi-eye":"mdi-eye-off",label:"Password",type:t.show?"text":"password",rules:t.passwordRules},on:{"click:append":function(e){t.show=!t.show}},model:{value:t.user.password,callback:function(e){t.$set(t.user,"password",e)},expression:"user.password"}})],1),e(s["a"],{attrs:{cols:"12",md:"6"}},[e(m["a"],{attrs:{"append-icon":t.show?"mdi-eye":"mdi-eye-off",label:"Repeat Password",type:t.show?"text":"password",rules:t.repeatPasswordRules},on:{"click:append":function(e){t.show=!t.show}},model:{value:t.repeatPassword,callback:function(e){t.repeatPassword=e},expression:"repeatPassword"}})],1),t.user&&t.user.role&&"admin"===t.user.role.toLowerCase()?e(s["a"],{attrs:{cols:"12",md:"6"}},[e(f["a"],{attrs:{items:t.roles,label:"Role"},model:{value:t.user.role,callback:function(e){t.$set(t.user,"role",e)},expression:"user.role"}})],1):t._e()],1)],1)],1)],1)},b=[];function g(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function y(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?g(Object(r),!0).forEach((function(e){Object(u["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var w={props:{profile:{type:Object,required:!0},onUpdate:{type:Function,required:!0}},data:function(){var t=this;return{roles:["Customer","Editor","Admin"],loading:!1,show:!1,repeatPassword:"",passwordRules:[function(e){return!t.repeatPassword||e===t.repeatPassword||"Passwords do not match!"},function(t){return!!t||"Password is required"}],repeatPasswordRules:[function(t){return!!t||"Password repeat required"},function(e){return e===t.user.password||"Passwords do not match!"}],user:y({},this.profile),emailRules:[function(t){return!!t||"Email is required"},function(t){return/.+@.+/.test(t)||"E-mail must be valid"}]}},mounted:function(){this.user.role=this.capitalize(this.user.role)},methods:{onAvatarChange:function(t){this.file=t||"none"},submit:function(){var t=this;this.$refs.form.validate()&&(this.loading=!0,this.api.put("user",this.user).then((function(e){t.loading=!1;var r=e.data;t.onUpdate(r)}),(function(e){t.loading=!1,t.error=e})))}}},v=w,O=r("2877"),P=Object(O["a"])(v,h,b,!1,null,null,null),_=P.exports,j=r("c5f5"),$=r("c1df"),k=r.n($);function U(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function x(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?U(Object(r),!0).forEach((function(e){Object(u["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var E={components:{Profile:_,ProfileList:j["a"]},data:function(){return{loadingUsers:!1,users:[],user:x({},this.$store.state.user)}},computed:{company:function(){return this.$store.state.company}},mounted:function(){this.getUsers()},methods:{moment:k.a,onUpdate:function(t){localStorage.setItem("claim",JSON.stringify(t)),this.$store.commit("setUser",t),this.user=t},onUserSelect:function(t){console.log(t)},getUsers:function(){var t=this;this.company&&(this.loadingUsers=!0,this.api.get("user/list/"+this.portalSideId+"/"+this.company.companyId).then((function(e){var r=e.data;r.forEach((function(e){e.sub1=e.email,e.sub2=t.moment(e.created).format("DD-MM-YY")})),t.users=r,t.loadingUsers=!1}),(function(e){t.loadingUsers=!1,t.error=e})))}}},S=E,B=Object(O["a"])(S,l,c,!1,null,null,null);e["default"]=B.exports}}]);
//# sourceMappingURL=chunk-488d8900.5ccb7ab6.js.map