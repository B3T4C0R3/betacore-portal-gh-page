(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-488d8900"],{"4bd4":function(t,e,r){"use strict";var s=r("58df"),i=r("7e2b"),a=r("3206");e["a"]=Object(s["a"])(i["a"],Object(a["b"])("form")).extend({name:"v-form",provide(){return{form:this}},inheritAttrs:!1,props:{disabled:Boolean,lazyValidation:Boolean,readonly:Boolean,value:Boolean},data:()=>({inputs:[],watchers:[],errorBag:{}}),watch:{errorBag:{handler(t){const e=Object.values(t).includes(!0);this.$emit("input",!e)},deep:!0,immediate:!0}},methods:{watchInput(t){const e=t=>t.$watch("hasError",e=>{this.$set(this.errorBag,t._uid,e)},{immediate:!0}),r={_uid:t._uid,valid:()=>{},shouldValidate:()=>{}};return this.lazyValidation?r.shouldValidate=t.$watch("shouldValidate",s=>{s&&(this.errorBag.hasOwnProperty(t._uid)||(r.valid=e(t)))}):r.valid=e(t),r},validate(){return 0===this.inputs.filter(t=>!t.validate(!0)).length},reset(){this.inputs.forEach(t=>t.reset()),this.resetErrorBag()},resetErrorBag(){this.lazyValidation&&setTimeout(()=>{this.errorBag={}},0)},resetValidation(){this.inputs.forEach(t=>t.resetValidation()),this.resetErrorBag()},register(t){this.inputs.push(t),this.watchers.push(this.watchInput(t))},unregister(t){const e=this.inputs.find(e=>e._uid===t._uid);if(!e)return;const r=this.watchers.find(t=>t._uid===e._uid);r&&(r.valid(),r.shouldValidate()),this.watchers=this.watchers.filter(t=>t._uid!==e._uid),this.inputs=this.inputs.filter(t=>t._uid!==e._uid),this.$delete(this.errorBag,e._uid)}},render(t){return t("form",{staticClass:"v-form",attrs:{novalidate:!0,...this.attrs$},on:{submit:t=>this.$emit("submit",t)}},this.$slots.default)}})},a523:function(t,e,r){"use strict";r("20f6"),r("4b85");var s=r("2b0e");function i(t){return s["default"].extend({name:"v-"+t,functional:!0,props:{id:String,tag:{type:String,default:"div"}},render(e,{props:r,data:s,children:i}){s.staticClass=`${t} ${s.staticClass||""}`.trim();const{attrs:a}=s;if(a){s.attrs={};const t=Object.keys(a).filter(t=>{if("slot"===t)return!1;const e=a[t];return t.startsWith("data-")?(s.attrs[t]=e,!1):e||"string"===typeof e});t.length&&(s.staticClass+=" "+t.join(" "))}return r.id&&(s.domProps=s.domProps||{},s.domProps.id=r.id),e(r.tag,s,i)}})}var a=r("d9f7");e["a"]=i("container").extend({name:"v-container",functional:!0,props:{id:String,tag:{type:String,default:"div"},fluid:{type:Boolean,default:!1}},render(t,{props:e,data:r,children:s}){let i;const{attrs:n}=r;return n&&(r.attrs={},i=Object.keys(n).filter(t=>{if("slot"===t)return!1;const e=n[t];return t.startsWith("data-")?(r.attrs[t]=e,!1):e||"string"===typeof e})),e.id&&(r.domProps=r.domProps||{},r.domProps.id=e.id),t(e.tag,Object(a["a"])(r,{staticClass:"container",class:Array({"container--fluid":e.fluid}).concat(i||[])}),s)}})},c5f5:function(t,e,r){"use strict";var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-list",[t._l(t.items,(function(e,s){return[r("v-list-item",t._g({key:s},t.$listeners.select?{click:function(){return t.$emit("select",e)}}:{}),[r("avatar",{attrs:{image:e.image,name:e.image?"":e.name,list:""}}),r("v-list-item-content",[r("v-list-item-title",[t._v("\n          "+t._s(e.name)+"\n        ")]),e.sub1||e.sub2?r("v-list-item-subtitle",[t._v("\n          "+t._s(e.sub1)),r("br"),t._v(t._s(e.sub2)+"\n        ")]):t._e()],1),t.$listeners.edit?r("v-list-item-action",[r("v-btn",{attrs:{icon:""},on:{click:function(r){r.stopPropagation(),t.$emit("edit",e)}}},[r("v-icon",[t._v("mdi-pencil")])],1)],1):t._e(),t.$listeners.delete?r("v-list-item-action",[r("v-btn",{attrs:{icon:""},on:{click:function(r){r.stopPropagation(),t.$emit("delete",e)}}},[r("v-icon",[t._v("mdi-delete")])],1)],1):t._e()],1)]}))],2)},i=[],a={props:{items:{type:Array,default:function(){return[]}}}},n=a,o=r("2877"),l=r("6544"),c=r.n(l),u=r("8336"),d=r("132d"),p=r("8860"),f=r("da13"),m=r("1800"),h=r("5d23"),v=Object(o["a"])(n,s,i,!1,null,null,null);e["a"]=v.exports;c()(v,{VBtn:u["a"],VIcon:d["a"],VList:p["a"],VListItem:f["a"],VListItemAction:m["a"],VListItemContent:h["a"],VListItemSubtitle:h["b"],VListItemTitle:h["c"]})},c66d:function(t,e,r){"use strict";r.r(e);var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{attrs:{fluid:""}},[r("v-row",{attrs:{justify:"center"}},[r("v-col",{attrs:{cols:"12",md:"8"}},[r("profile",{attrs:{profile:t.$store.state.user,"on-update":t.onUpdate}})],1),r("v-col",{attrs:{cols:"12",md:"4"}},[r("material-card",{staticClass:"v-card-profile",attrs:{loading:t.loadingUsers,color:"primary"},scopedSlots:t._u([{key:"header",fn:function(){return[r("div",{staticClass:"pa-3"},[r("h4",{staticClass:"title font-weight-light"},[t._v("\n              "+t._s(t.company?t.company.name:"")+"\n            ")])]),r("v-spacer")]},proxy:!0}])},[t.loadingUsers?r("v-progress-circular",{attrs:{size:50,color:"primary",indeterminate:""}}):r("profile-list",{attrs:{items:t.users},on:{select:t.onUserSelect}})],1)],1)],1)],1)},i=[],a=(r("8e6e"),r("456d"),r("ac6a"),r("bd86")),n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("material-card",{attrs:{color:"secondary",title:"Profile"},scopedSlots:t._u([{key:"actions",fn:function(){return[r("v-btn",{attrs:{color:"primary",loading:t.loading},on:{click:t.submit}},[t._v("\n      Update Profile\n    ")])]},proxy:!0}])},[r("v-form",{ref:"form"},[r("v-container",{staticClass:"py-0"},[r("v-row",[r("v-col",{attrs:{cols:"12",md:"6"}},[r("v-text-field",{attrs:{label:"Name"},model:{value:t.user.name,callback:function(e){t.$set(t.user,"name",e)},expression:"user.name"}})],1),r("v-col",{attrs:{cols:"12",md:"6"}},[r("v-text-field",{staticClass:"purple-input",attrs:{rules:t.emailRules,"prepend-icon":"mdi-email",label:"Email address"},model:{value:t.user.email,callback:function(e){t.$set(t.user,"email",e)},expression:"user.email"}})],1),r("v-col",{attrs:{cols:"12",md:"6"}},[r("v-text-field",{attrs:{"append-icon":t.show?"mdi-eye":"mdi-eye-off",label:"Password",type:t.show?"text":"password",rules:t.passwordRules},on:{"click:append":function(e){t.show=!t.show}},model:{value:t.user.password,callback:function(e){t.$set(t.user,"password",e)},expression:"user.password"}})],1),r("v-col",{attrs:{cols:"12",md:"6"}},[r("v-text-field",{attrs:{"append-icon":t.show?"mdi-eye":"mdi-eye-off",label:"Repeat Password",type:t.show?"text":"password",rules:t.repeatPasswordRules},on:{"click:append":function(e){t.show=!t.show}},model:{value:t.repeatPassword,callback:function(e){t.repeatPassword=e},expression:"repeatPassword"}})],1),t.user&&t.user.role&&"admin"===t.user.role.toLowerCase()?r("v-col",{attrs:{cols:"12",md:"6"}},[r("v-select",{attrs:{items:t.roles,label:"Role"},model:{value:t.user.role,callback:function(e){t.$set(t.user,"role",e)},expression:"user.role"}})],1):t._e()],1)],1)],1)],1)},o=[];function l(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function c(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?l(Object(r),!0).forEach((function(e){Object(a["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var u={props:{profile:{type:Object,required:!0},onUpdate:{type:Function,required:!0}},data:function(){var t=this;return{roles:["Customer","Editor","Admin"],loading:!1,show:!1,repeatPassword:"",passwordRules:[function(e){return!t.repeatPassword||e===t.repeatPassword||"Passwords do not match!"},function(t){return!!t||"Password is required"}],repeatPasswordRules:[function(t){return!!t||"Password repeat required"},function(e){return e===t.user.password||"Passwords do not match!"}],user:c({},this.profile),emailRules:[function(t){return!!t||"Email is required"},function(t){return/.+@.+/.test(t)||"E-mail must be valid"}]}},mounted:function(){this.user.role=this.capitalize(this.user.role)},methods:{onAvatarChange:function(t){this.file=t||"none"},submit:function(){var t=this;this.$refs.form.validate()&&(this.loading=!0,this.api.put("user",this.user).then((function(e){t.loading=!1;var r=e.data;t.onUpdate(r)}),(function(e){t.loading=!1,t.error=e})))}}},d=u,p=r("2877"),f=r("6544"),m=r.n(f),h=r("8336"),v=r("62ad"),b=r("a523"),g=r("4bd4"),w=r("0fd9"),y=r("b974"),O=r("8654"),P=Object(p["a"])(d,n,o,!1,null,null,null),_=P.exports;m()(P,{VBtn:h["a"],VCol:v["a"],VContainer:b["a"],VForm:g["a"],VRow:w["a"],VSelect:y["a"],VTextField:O["a"]});var j=r("c5f5"),V=r("c1df"),$=r.n(V);function k(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function x(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?k(Object(r),!0).forEach((function(e){Object(a["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var C={components:{Profile:_,ProfileList:j["a"]},data:function(){return{loadingUsers:!1,users:[],user:x({},this.$store.state.user)}},computed:{company:function(){return this.$store.state.company}},mounted:function(){this.getUsers()},methods:{moment:$.a,onUpdate:function(t){localStorage.setItem("claim",JSON.stringify(t)),this.$store.commit("setUser",t),this.user=t},onUserSelect:function(t){console.log(t)},getUsers:function(){var t=this;this.company&&(this.loadingUsers=!0,this.api.get("user/list/"+this.portalSideId+"/"+this.company.companyId).then((function(e){var r=e.data;r.forEach((function(e){e.sub1=e.email,e.sub2=t.moment(e.created).format("DD-MM-YY")})),t.users=r,t.loadingUsers=!1}),(function(e){t.loadingUsers=!1,t.error=e})))}}},E=C,S=r("490a"),B=r("2fa4"),U=Object(p["a"])(E,s,i,!1,null,null,null);e["default"]=U.exports;m()(U,{VCol:v["a"],VContainer:b["a"],VProgressCircular:S["a"],VRow:w["a"],VSpacer:B["a"]})}}]);
//# sourceMappingURL=chunk-488d8900.726d0f85.js.map