{"version":3,"sources":["webpack:///./node_modules/core-js/modules/_strict-method.js","webpack:///./src/views/Admin.vue?47c6","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/iterableToArray.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/toConsumableArray.js","webpack:///src/views/Admin.vue","webpack:///./src/views/Admin.vue?2a8c","webpack:///./src/views/Admin.vue","webpack:///./node_modules/core-js/modules/_array-fill.js","webpack:///./node_modules/core-js/modules/es6.array.sort.js","webpack:///./node_modules/core-js/modules/es6.array.fill.js","webpack:///./src/components/core/ProfileList.vue?d207","webpack:///src/components/core/ProfileList.vue","webpack:///./src/components/core/ProfileList.vue?a077","webpack:///./src/components/core/ProfileList.vue"],"names":["fails","module","exports","method","arg","call","render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","loadingCompanies","scopedSlots","_u","key","fn","_v","on","onCompanySelect","proxy","companies","selectCompany","_s","selectedCompany","name","ref","_g","_b","user","$route","path","onUserSelect","onSiteSelect","users","onUserDelete","getSites","onSiteDelete","_e","currentTitle","currentSchema","currentItem","currentSubmit","currentDelete","staticRenderFns","_arrayWithoutHoles","arr","arrayLikeToArray","_iterableToArray","iter","Object","_nonIterableSpread","TypeError","_toConsumableArray","unsupportedIterableToArray","component","VBtn","VCard","VCol","VContainer","VIcon","VList","VListItem","VListItemTitle","VMenu","VProgressCircular","VRow","VSpacer","toObject","toAbsoluteIndex","toLength","value","O","length","aLen","arguments","index","undefined","end","endPos","$export","aFunction","$sort","sort","test","P","F","comparefn","fill","_l","item","i","$listeners","select","click","$emit","image","sub1","sub2","e","stopPropagation","VListItemAction","VListItemContent","VListItemSubtitle"],"mappings":"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","file":"js/chunk-5c333f79.021fb232.js","sourcesContent":["'use strict';\nvar fails = require('./_fails');\n\nmodule.exports = function (method, arg) {\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call\n    arg ? method.call(null, function () { /* empty */ }, 1) : method.call(null);\n  });\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{attrs:{\"fluid\":\"\"}},[_c('v-row',{attrs:{\"justify\":\"center\"}},[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"4\"}},[_c('material-card',{staticClass:\"v-card-profile\",attrs:{\"loading\":_vm.loadingCompanies,\"color\":\"primary\"},scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('div',{staticClass:\"pa-3\"},[_c('h4',{staticClass:\"title font-weight-light\"},[_vm._v(\"\\n              Companies\\n            \")])]),_c('v-spacer'),_c('v-btn',{staticClass:\"mr-3\",attrs:{\"color\":\"secondary\"},on:{\"click\":_vm.onCompanySelect}},[_c('v-icon',{staticClass:\"pr-3\"},[_vm._v(\"\\n              mdi-plus\\n            \")]),_vm._v(\"Add Company\\n          \")],1)]},proxy:true}])},[(_vm.loadingCompanies)?_c('v-progress-circular',{attrs:{\"size\":50,\"color\":\"primary\",\"indeterminate\":\"\"}}):_c('profile-list',{attrs:{\"items\":_vm.companies},on:{\"select\":_vm.selectCompany}})],1)],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"8\"}},[(_vm.selectedCompany)?_c('material-card',{staticClass:\"v-card-profile\",attrs:{\"color\":\"primary\"},scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('div',{staticClass:\"pa-3\"},[_c('h4',{staticClass:\"title font-weight-light\"},[_vm._v(\"\\n              \"+_vm._s(_vm.selectedCompany.name)+\"\\n            \")])]),_c('v-spacer'),_c('v-menu',{attrs:{\"bottom\":\"\",\"left\":\"\",\"offset-y\":\"\",\"transition\":\"slide-y-transition\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar attrs = ref.attrs;\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g(_vm._b({staticClass:\"toolbar-items\",attrs:{\"icon\":\"\",\"to\":_vm.user ? null : '/login?redirect=' + _vm.$route.path}},'v-btn',attrs,false),on),[_c('v-icon',{attrs:{\"color\":\"secondary\"}},[_vm._v(\"\\n                  mdi-dots-vertical\\n                \")])],1)]}}],null,false,316168284)},[_c('v-card',[_c('v-list',{attrs:{\"dense\":\"\"}},[_c('v-list-item',{on:{\"click\":function () { return _vm.onCompanySelect(_vm.selectedCompany); }}},[_c('v-list-item-title',[_vm._v(\"\\n                    Edit Company\\n                  \")])],1),_c('v-list-item',{on:{\"click\":_vm.onUserSelect}},[_c('v-list-item-title',[_vm._v(\"\\n                    Add User\\n                  \")])],1),_c('v-list-item',{on:{\"click\":_vm.onSiteSelect}},[_c('v-list-item-title',[_vm._v(\"\\n                    Add Site\\n                  \")])],1)],1)],1)],1)]},proxy:true}],null,false,2900726562)},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('h6',{staticClass:\"overline\"},[_vm._v(\"\\n              Users\\n            \")]),(_vm.loadingUsers)?_c('v-progress-circular',{attrs:{\"size\":50,\"color\":\"primary\",\"indeterminate\":\"\"}}):_c('profile-list',{attrs:{\"items\":_vm.users},on:{\"edit\":_vm.onUserSelect,\"delete\":_vm.onUserDelete}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('h6',{staticClass:\"overline\"},[_vm._v(\"\\n              Sites\\n            \")]),_c('profile-list',{attrs:{\"items\":_vm.getSites()},on:{\"edit\":_vm.onSiteSelect,\"delete\":_vm.onSiteDelete}})],1)],1)],1):_vm._e()],1)],1),_c('form-dialog',{ref:\"dialog\",attrs:{\"title\":_vm.currentTitle,\"schema\":_vm.currentSchema,\"item\":_vm.currentItem},on:{\"submit\":_vm.currentSubmit}}),_c('yes-no-dialog',{ref:\"yesno\",on:{\"yes\":_vm.currentDelete}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import _Array$isArray from \"@babel/runtime-corejs2/core-js/array/is-array\";\nimport arrayLikeToArray from \"@babel/runtime-corejs2/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (_Array$isArray(arr)) return arrayLikeToArray(arr);\n}","import _Array$from from \"@babel/runtime-corejs2/core-js/array/from\";\nimport _isIterable from \"@babel/runtime-corejs2/core-js/is-iterable\";\nimport _Symbol from \"@babel/runtime-corejs2/core-js/symbol\";\nexport default function _iterableToArray(iter) {\n  if (typeof _Symbol !== \"undefined\" && _isIterable(Object(iter))) return _Array$from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithoutHoles from \"@babel/runtime-corejs2/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime-corejs2/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime-corejs2/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime-corejs2/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","<template>\n  <v-container fluid>\n    <v-row justify=\"center\">\n      <v-col\n        cols=\"12\"\n        md=\"4\"\n      >\n        <material-card\n          :loading=\"loadingCompanies\"\n          class=\"v-card-profile\"\n          color=\"primary\"\n        >\n          <template v-slot:header>\n            <div\n              class=\"pa-3\"\n            >\n              <h4\n                class=\"title font-weight-light\"\n              >\n                Companies\n              </h4>\n            </div>\n\n            <v-spacer />\n            <v-btn\n              color=\"secondary\"\n              class=\"mr-3\"\n              @click=\"onCompanySelect\"\n            >\n              <v-icon class=\"pr-3\">\n                mdi-plus\n              </v-icon>Add Company\n            </v-btn>\n          </template>\n          <v-progress-circular\n            v-if=\"loadingCompanies\"\n            :size=\"50\"\n            color=\"primary\"\n            indeterminate\n          />\n          <profile-list\n            v-else\n            :items=\"companies\"\n            @select=\"selectCompany\"\n          />\n        </material-card>\n      </v-col>\n      <v-col\n        cols=\"12\"\n        md=\"8\"\n      >\n        <material-card\n          v-if=\"selectedCompany\"\n          class=\"v-card-profile\"\n          color=\"primary\"\n        >\n          <template v-slot:header>\n            <div\n              class=\"pa-3\"\n            >\n              <h4\n                class=\"title font-weight-light\"\n              >\n                {{ selectedCompany.name }}\n              </h4>\n            </div>\n\n            <v-spacer />\n            <v-menu\n              bottom\n              left\n              offset-y\n              transition=\"slide-y-transition\"\n            >\n              <template v-slot:activator=\"{ attrs, on }\">\n                <v-btn\n                  class=\"toolbar-items\"\n                  icon\n                  :to=\"user ? null : '/login?redirect=' + $route.path\"\n                  v-bind=\"attrs\"\n                  v-on=\"on\"\n                >\n                  <v-icon color=\"secondary\">\n                    mdi-dots-vertical\n                  </v-icon>\n                </v-btn>\n              </template>\n\n              <v-card>\n                <v-list\n                  dense\n                >\n                  <v-list-item\n                    @click=\"() => onCompanySelect(selectedCompany)\"\n                  >\n                    <v-list-item-title>\n                      Edit Company\n                    </v-list-item-title>\n                  </v-list-item>\n                  <v-list-item\n                    @click=\"onUserSelect\"\n                  >\n                    <v-list-item-title>\n                      Add User\n                    </v-list-item-title>\n                  </v-list-item>\n                  <v-list-item\n                    @click=\"onSiteSelect\"\n                  >\n                    <v-list-item-title>\n                      Add Site\n                    </v-list-item-title>\n                  </v-list-item>\n                </v-list>\n              </v-card>\n            </v-menu>\n          </template>\n          <v-row>\n            <v-col\n              cols=\"12\"\n              md=\"6\"\n            >\n              <h6 class=\"overline\">\n                Users\n              </h6>\n              <v-progress-circular\n                v-if=\"loadingUsers\"\n                :size=\"50\"\n                color=\"primary\"\n                indeterminate\n              />\n              <profile-list\n                v-else\n                :items=\"users\"\n                @edit=\"onUserSelect\"\n                @delete=\"onUserDelete\"\n              />\n            </v-col>\n            <v-col\n              cols=\"12\"\n              md=\"6\"\n            >\n              <h6 class=\"overline\">\n                Sites\n              </h6>\n              <profile-list\n                :items=\"getSites()\"\n                @edit=\"onSiteSelect\"\n                @delete=\"onSiteDelete\"\n              />\n            </v-col>\n          </v-row>\n        </material-card>\n      </v-col>\n    </v-row>\n    <form-dialog\n      ref=\"dialog\"\n      :title=\"currentTitle\"\n      :schema=\"currentSchema\"\n      :item=\"currentItem\"\n      @submit=\"currentSubmit\"\n    />\n    <yes-no-dialog\n      ref=\"yesno\"\n      @yes=\"currentDelete\"\n    />\n  </v-container>\n</template>\n\n<script>\n  import FormDialog from '../components/core/FormDialog.vue'\n  import YesNoDialog from '../components/core/YesNoDialog.vue'\n  import ProfileList from '../components/core/ProfileList.vue'\n  import moment from 'moment'\n  export default {\n    components: {\n      FormDialog,\n      YesNoDialog,\n      ProfileList\n    },\n    data () {\n      return {\n        loadingCompanies: false,\n        loadingUsers: false,\n        currentTitle: '',\n        currentSchema: {},\n        currentSubmit: () => {},\n        currentDelete: () => {},\n        currentItem: {},\n        companySchema: {\n          name: {\n            type: 'text',\n            label: 'Name'\n          }\n        },\n        userSchema: {\n          name: {\n            type: 'text',\n            label: 'Name'\n          },\n          email: {\n            type: 'email',\n            label: 'Email'\n          },\n          password: {\n            type: 'password',\n            appendIcon: 'mdi-eye',\n            label: 'Password'\n          },\n          role: {\n            type: 'select',\n            label: 'Role',\n            items: ['Default', 'Editor', 'Admin']\n          }\n        },\n        siteSchema: {\n          name: {\n            type: 'text',\n            label: 'Name'\n          },\n          domain: {\n            type: 'text',\n            label: 'Domain'\n          }\n        },\n        companies: [],\n        users: [],\n        selectedCompany: null,\n        user: {\n          ...this.$store.state.user\n        },\n      }\n    },\n    computed: {\n      company: function () {\n        return this.$store.state.company\n      },\n      sites: function () {\n        return this.$store.state.sites\n      }\n    },\n    created () {\n      this.selectedCompany = this.company\n      this.getCompanies()\n      this.getUsers()\n    },\n    methods: {\n      moment,\n      selectCompany (company) {\n        this.selectedCompany = company\n        this.getUsers()\n      },\n      onCompanySelect (company) {\n        this.currentSchema = this.companySchema\n        this.currentSubmit = this.updateCompany\n        if (company && company.companyId) {\n          this.currentItem = company\n          this.currentTitle = 'Update Company'\n          this.currentMethod = 'put'\n        } else {\n          this.currentItem = {}\n          this.currentTitle = 'Add Company'\n          this.currentMethod = 'post'\n        }\n        this.$refs.dialog.open()\n      },\n      onSiteDelete (site) {\n        this.currentDelete = (done) => this.deleteSite(site, done)\n        this.$refs.yesno.open(`Delete ${site.name}`, `Are you sure you want to delete ${site.name} from ${this.selectedCompany.name}?`)\n      },\n      onSiteSelect (site) {\n        this.currentSchema = this.siteSchema\n        this.currentSubmit = this.updateSite\n        if (site && site.siteId) {\n          this.currentItem = site\n          this.currentTitle = 'Update Site'\n          this.currentMethod = 'put'\n        } else {\n          this.currentItem = {}\n          this.currentTitle = 'Add Site'\n          this.currentMethod = 'post'\n        }\n        this.$refs.dialog.open()\n      },\n      onUserDelete (user) {\n        this.currentDelete = (done) => this.deleteUser(user, done)\n        this.$refs.yesno.open(`Remove ${user.name}`, `Are you sure you want to remove ${user.name} from ${this.selectedCompany.name}?`)\n      },\n      onUserSelect (user) {\n        this.currentSchema = this.userSchema\n        this.currentSubmit = this.updateUser\n        if (user && user.userId) {\n          this.currentItem = user\n          this.currentTitle = 'Update User'\n          this.currentMethod = 'put'\n        } else {\n          this.currentItem = {\n            password: this.randPassword(5, 3, 2, 1)\n          }\n          this.currentTitle = 'Add User'\n          this.currentMethod = 'post'\n        }\n        this.$refs.dialog.open()\n      },\n      updateUser (submit) {\n        var user = submit.item\n        if (!user.companyId) {\n          user.companyId = this.selectedCompany.companyId\n        }\n        this.api[this.currentMethod]('user', user)\n          .then(result => {\n            this.getUsers()\n            if (this.user.userId === result.data.userId) {\n              this.$store.commit('setUser', result.data)\n              localStorage.setItem('claim', JSON.stringify(result.data))\n            }\n            submit.done()\n          }, error => {\n            this.error = error\n            submit.done()\n          })\n      },\n      updateCompany (submit) {\n        var company = submit.item\n        this.api[this.currentMethod]('company', company)\n          .then(result => {\n            this.getCompanies()\n            if (this.company.companyId === result.data.companyId) {\n              this.$store.commit('setCompany', result.data)\n            }\n            submit.done()\n          }, error => {\n            this.error = error\n            submit.done()\n          })\n      },\n      updateSite (submit) {\n        var site = submit.item\n        if (!site.companyId) {\n          site.companyId = this.selectedCompany.companyId\n        }\n        this.api[this.currentMethod]('sites', site)\n          .then(result => {\n            var newSites = []\n            if (this.currentMethod === 'put') {\n              newSites = this.sites.map(existingSite => {\n                if (existingSite.siteId === result.data.siteId) {\n                  return result.data\n                }\n                return existingSite\n              })\n            } else if (this.currentMethod === 'post') {\n              newSites = [result.data, ...this.sites]\n            }\n            this.$store.commit('setSites', newSites)\n            submit.done()\n          }, error => {\n            this.error = error\n            submit.done()\n          })\n      },\n      getSites () {\n        var sites = this.sites.filter(site => site.companyId === this.selectedCompany.companyId)\n        sites.forEach(site => {\n          site.sub1 = site.domain\n          site.sub2 = this.moment(site.created).format('DD-MM-YY')\n        })\n        return sites\n      },\n      getUsers () {\n        if (this.selectedCompany && !this.loadingUsers) {\n          this.loadingUsers = true\n          this.api.get('user/list/' + this.selectedCompany.companyId)\n            .then(result => {\n              var users = result.data\n              users.forEach(user => {\n                user.sub1 = user.email\n                user.sub2 = this.moment(user.created).format('DD-MM-YY')\n              })\n              this.users = users\n              this.loadingUsers = false\n            }, error => {\n              this.loadingUsers = false\n              this.error = error\n            })\n        }\n      },\n      getCompanies () {\n        if (!this.loadingCompanies) {\n          this.loadingCompanies = true\n          this.api.get('company/list')\n            .then(result => {\n              var companies = result.data\n              companies.forEach(company => {\n                company.sub1 = this.moment(company.created).format('DD-MM-YY')\n              })\n              this.companies = companies\n              this.loadingCompanies = false\n            }, error => {\n              this.loadingCompanies = false\n              this.error = error\n            })\n        }\n      },\n      deleteUser (user, done) {\n        this.api.delete('user/' + user.userId)\n          .then(result => {\n            this.getUsers()\n            done()\n          }, error => {\n            done()\n            this.error = error\n          })\n      },\n      deleteSite (site, done) {\n        this.api.delete('sites/' + site.siteId)\n          .then(result => {\n            var newSites = this.sites.filter(existingSite => existingSite.siteId !== site.siteId)\n            this.$store.commit('setSites', newSites)\n            done()\n          }, error => {\n            done()\n            this.error = error\n          })\n      },\n      randPassword (letters, numbers, upper, special) {\n        var chars = [\n          'abcdefghijklmnopqrstuvwxyz', // letters\n          '0123456789', // numbers\n          'ABCDEFGHIJKLMNOPQRSTUVWXYZ', // either\n          '@#!?' // special\n        ]\n\n        return [letters, numbers, upper, special].map(function (len, i) {\n          return Array(len).fill(chars[i]).map(function (x) {\n            return x[Math.floor(Math.random() * x.length)]\n          }).join('')\n        }).concat().join('').split('').sort(function () {\n          return 0.5 - Math.random()\n        }).join('')\n      }\n      // invoke like so: randPassword(5,3,2);\n    }\n  }\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Admin.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Admin.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Admin.vue?vue&type=template&id=6fea7cb4&\"\nimport script from \"./Admin.vue?vue&type=script&lang=js&\"\nexport * from \"./Admin.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VBtn,VCard,VCol,VContainer,VIcon,VList,VListItem,VListItemTitle,VMenu,VProgressCircular,VRow,VSpacer})\n","// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\n'use strict';\nvar toObject = require('./_to-object');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nvar toLength = require('./_to-length');\nmodule.exports = function fill(value /* , start = 0, end = @length */) {\n  var O = toObject(this);\n  var length = toLength(O.length);\n  var aLen = arguments.length;\n  var index = toAbsoluteIndex(aLen > 1 ? arguments[1] : undefined, length);\n  var end = aLen > 2 ? arguments[2] : undefined;\n  var endPos = end === undefined ? length : toAbsoluteIndex(end, length);\n  while (endPos > index) O[index++] = value;\n  return O;\n};\n","'use strict';\nvar $export = require('./_export');\nvar aFunction = require('./_a-function');\nvar toObject = require('./_to-object');\nvar fails = require('./_fails');\nvar $sort = [].sort;\nvar test = [1, 2, 3];\n\n$export($export.P + $export.F * (fails(function () {\n  // IE8-\n  test.sort(undefined);\n}) || !fails(function () {\n  // V8 bug\n  test.sort(null);\n  // Old WebKit\n}) || !require('./_strict-method')($sort)), 'Array', {\n  // 22.1.3.25 Array.prototype.sort(comparefn)\n  sort: function sort(comparefn) {\n    return comparefn === undefined\n      ? $sort.call(toObject(this))\n      : $sort.call(toObject(this), aFunction(comparefn));\n  }\n});\n","// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\nvar $export = require('./_export');\n\n$export($export.P, 'Array', { fill: require('./_array-fill') });\n\nrequire('./_add-to-unscopables')('fill');\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-list',[_vm._l((_vm.items),function(item,i){return [_c('v-list-item',_vm._g({key:i},_vm.$listeners.select ? { click: function () { return _vm.$emit('select', item); } } : {}),[_c('avatar',{attrs:{\"image\":item.image,\"name\":item.image ? '' : item.name,\"list\":\"\"}}),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\"\\n          \"+_vm._s(item.name)+\"\\n        \")]),(item.sub1 || item.sub2)?_c('v-list-item-subtitle',[_vm._v(\"\\n          \"+_vm._s(item.sub1)),_c('br'),_vm._v(_vm._s(item.sub2)+\"\\n        \")]):_vm._e()],1),(_vm.$listeners.edit)?_c('v-list-item-action',[_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function (e) {e.stopPropagation(); _vm.$emit('edit', item)}}},[_c('v-icon',[_vm._v(\"mdi-pencil\")])],1)],1):_vm._e(),(_vm.$listeners.delete)?_c('v-list-item-action',[_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function (e) {e.stopPropagation(); _vm.$emit('delete', item)}}},[_c('v-icon',[_vm._v(\"mdi-delete\")])],1)],1):_vm._e()],1)]})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-list>\n    <template v-for=\"(item, i) in items\">\n      <v-list-item\n        :key=\"i\"\n        v-on=\"$listeners.select ? { click: () => $emit('select', item) } : {}\"\n      >\n        <avatar\n          :image=\"item.image\"\n          :name=\"item.image ? '' : item.name\"\n          list\n        />\n        <v-list-item-content>\n          <v-list-item-title>\n            {{ item.name }}\n          </v-list-item-title>\n          <v-list-item-subtitle v-if=\"item.sub1 || item.sub2\">\n            {{ item.sub1 }}<br>{{ item.sub2 }}\n          </v-list-item-subtitle>\n        </v-list-item-content>\n        <v-list-item-action v-if=\"$listeners.edit\">\n          <v-btn\n            icon\n            @click=\"(e) => {e.stopPropagation(); $emit('edit', item)}\"\n          >\n            <v-icon>mdi-pencil</v-icon>\n          </v-btn>\n        </v-list-item-action>\n        <v-list-item-action v-if=\"$listeners.delete\">\n          <v-btn\n            icon\n            @click=\"(e) => {e.stopPropagation(); $emit('delete', item)}\"\n          >\n            <v-icon>mdi-delete</v-icon>\n          </v-btn>\n        </v-list-item-action>\n      </v-list-item>\n    </template>\n  </v-list>\n</template>\n\n<script>\n  export default {\n    props: {\n      items: {\n        type: Array,\n        default: () => []\n      }\n    }\n  }\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProfileList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProfileList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProfileList.vue?vue&type=template&id=8ac1df20&\"\nimport script from \"./ProfileList.vue?vue&type=script&lang=js&\"\nexport * from \"./ProfileList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemAction } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\ninstallComponents(component, {VBtn,VIcon,VList,VListItem,VListItemAction,VListItemContent,VListItemSubtitle,VListItemTitle})\n"],"sourceRoot":""}